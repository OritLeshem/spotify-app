{"ast":null,"code":"export const SHOW_MSG = 'show-msg';\nfunction createEventEmitter() {\n  const listenersMap = {};\n  return {\n    on(evName, listener) {\n      listenersMap[evName] = listenersMap[evName] ? [...listenersMap[evName], listener] : [listener];\n      return () => {\n        listenersMap[evName] = listenersMap[evName].filter(func => func !== listener);\n      };\n    },\n    emit(evName, data) {\n      if (!listenersMap[evName]) return;\n      listenersMap[evName].forEach(listener => listener(data));\n    }\n  };\n}\nexport const eventBus = createEventEmitter();\nexport function showUserMsg(msg) {\n  eventBus.emit(SHOW_MSG, msg);\n}\nexport function showSuccessMsg(txt) {\n  showUserMsg({\n    txt,\n    type: 'success'\n  });\n}\nexport function showErrorMsg(txt) {\n  showUserMsg({\n    txt,\n    type: 'error'\n  });\n}\nwindow.showUserMsg = showUserMsg;\nexport function hideUserMsg() {\n  const msgEl = document.querySelector('.user-msg');\n  if (msgEl) {\n    msgEl.classList.remove('show');\n  }\n}\nexport function showErrorMsgLoginSignup(txt) {\n  let duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3000;\n  showUserMsg({\n    txt,\n    type: 'error'\n  });\n  setTimeout(() => {\n    hideUserMsg();\n  }, duration);\n}","map":{"version":3,"names":["SHOW_MSG","createEventEmitter","listenersMap","on","evName","listener","filter","func","emit","data","forEach","eventBus","showUserMsg","msg","showSuccessMsg","txt","type","showErrorMsg","window","hideUserMsg","msgEl","document","querySelector","classList","remove","showErrorMsgLoginSignup","duration","arguments","length","undefined","setTimeout"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/services/event-bus.service.js"],"sourcesContent":["export const SHOW_MSG = 'show-msg'\r\n\r\nfunction createEventEmitter() {\r\n    const listenersMap = {}\r\n    return {\r\n        on(evName, listener) {\r\n            listenersMap[evName] = (listenersMap[evName]) ? [...listenersMap[evName], listener] : [listener]\r\n            return () => {\r\n                listenersMap[evName] = listenersMap[evName].filter(func => func !== listener)\r\n            }\r\n        },\r\n        emit(evName, data) {\r\n            if (!listenersMap[evName]) return\r\n            listenersMap[evName].forEach(listener => listener(data))\r\n        }\r\n    }\r\n}\r\n\r\nexport const eventBus = createEventEmitter()\r\n\r\nexport function showUserMsg(msg) {\r\n    eventBus.emit(SHOW_MSG, msg)\r\n}\r\n\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg({ txt, type: 'success' })\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg({ txt, type: 'error' })\r\n}\r\n\r\nwindow.showUserMsg = showUserMsg\r\nexport function hideUserMsg() {\r\n    const msgEl = document.querySelector('.user-msg');\r\n    if (msgEl) {\r\n        msgEl.classList.remove('show');\r\n    }\r\n}\r\nexport function showErrorMsgLoginSignup(txt, duration = 3000) {\r\n    showUserMsg({ txt, type: 'error' })\r\n    setTimeout(() => {\r\n        hideUserMsg()\r\n    }, duration)\r\n}"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,UAAU;AAElC,SAASC,kBAAkBA,CAAA,EAAG;EAC1B,MAAMC,YAAY,GAAG,CAAC,CAAC;EACvB,OAAO;IACHC,EAAEA,CAACC,MAAM,EAAEC,QAAQ,EAAE;MACjBH,YAAY,CAACE,MAAM,CAAC,GAAIF,YAAY,CAACE,MAAM,CAAC,GAAI,CAAC,GAAGF,YAAY,CAACE,MAAM,CAAC,EAAEC,QAAQ,CAAC,GAAG,CAACA,QAAQ,CAAC;MAChG,OAAO,MAAM;QACTH,YAAY,CAACE,MAAM,CAAC,GAAGF,YAAY,CAACE,MAAM,CAAC,CAACE,MAAM,CAACC,IAAI,IAAIA,IAAI,KAAKF,QAAQ,CAAC;MACjF,CAAC;IACL,CAAC;IACDG,IAAIA,CAACJ,MAAM,EAAEK,IAAI,EAAE;MACf,IAAI,CAACP,YAAY,CAACE,MAAM,CAAC,EAAE;MAC3BF,YAAY,CAACE,MAAM,CAAC,CAACM,OAAO,CAACL,QAAQ,IAAIA,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC5D;EACJ,CAAC;AACL;AAEA,OAAO,MAAME,QAAQ,GAAGV,kBAAkB,EAAE;AAE5C,OAAO,SAASW,WAAWA,CAACC,GAAG,EAAE;EAC7BF,QAAQ,CAACH,IAAI,CAACR,QAAQ,EAAEa,GAAG,CAAC;AAChC;AAEA,OAAO,SAASC,cAAcA,CAACC,GAAG,EAAE;EAChCH,WAAW,CAAC;IAAEG,GAAG;IAAEC,IAAI,EAAE;EAAU,CAAC,CAAC;AACzC;AACA,OAAO,SAASC,YAAYA,CAACF,GAAG,EAAE;EAC9BH,WAAW,CAAC;IAAEG,GAAG;IAAEC,IAAI,EAAE;EAAQ,CAAC,CAAC;AACvC;AAEAE,MAAM,CAACN,WAAW,GAAGA,WAAW;AAChC,OAAO,SAASO,WAAWA,CAAA,EAAG;EAC1B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;EACjD,IAAIF,KAAK,EAAE;IACPA,KAAK,CAACG,SAAS,CAACC,MAAM,CAAC,MAAM,CAAC;EAClC;AACJ;AACA,OAAO,SAASC,uBAAuBA,CAACV,GAAG,EAAmB;EAAA,IAAjBW,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EACxDf,WAAW,CAAC;IAAEG,GAAG;IAAEC,IAAI,EAAE;EAAQ,CAAC,CAAC;EACnCc,UAAU,CAAC,MAAM;IACbX,WAAW,EAAE;EACjB,CAAC,EAAEO,QAAQ,CAAC;AAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}