{"ast":null,"code":"import _toConsumableArray from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";export var SHOW_MSG='show-msg';function createEventEmitter(){var listenersMap={};return{on:function on(evName,listener){listenersMap[evName]=listenersMap[evName]?[].concat(_toConsumableArray(listenersMap[evName]),[listener]):[listener];return function(){listenersMap[evName]=listenersMap[evName].filter(function(func){return func!==listener;});};},emit:function emit(evName,data){if(!listenersMap[evName])return;listenersMap[evName].forEach(function(listener){return listener(data);});}};}export var eventBus=createEventEmitter();export function showUserMsg(msg){eventBus.emit(SHOW_MSG,msg);}export function showSuccessMsg(txt){showUserMsg({txt:txt,type:'success'});}export function showErrorMsg(txt){showUserMsg({txt:txt,type:'error'});}window.showUserMsg=showUserMsg;","map":{"version":3,"names":["SHOW_MSG","createEventEmitter","listenersMap","on","evName","listener","concat","_toConsumableArray","filter","func","emit","data","forEach","eventBus","showUserMsg","msg","showSuccessMsg","txt","type","showErrorMsg","window"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/services/event-bus.service.js"],"sourcesContent":["export const SHOW_MSG = 'show-msg'\r\n\r\nfunction createEventEmitter() {\r\n    const listenersMap = {}\r\n    return {\r\n        on(evName, listener){\r\n            listenersMap[evName] = (listenersMap[evName])? [...listenersMap[evName], listener] : [listener]\r\n            return ()=>{\r\n                listenersMap[evName] = listenersMap[evName].filter(func => func !== listener)\r\n            }\r\n        },\r\n        emit(evName, data) {\r\n            if (!listenersMap[evName]) return\r\n            listenersMap[evName].forEach(listener => listener(data))\r\n        }\r\n    }\r\n}\r\n\r\nexport const eventBus = createEventEmitter()\r\n\r\nexport function showUserMsg(msg) {\r\n    eventBus.emit(SHOW_MSG, msg)\r\n}\r\n\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg({txt, type: 'success'})\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg({txt, type: 'error'})\r\n}\r\n\r\nwindow.showUserMsg = showUserMsg\r\n\r\n"],"mappings":"kJAAA,MAAO,IAAM,CAAAA,QAAQ,CAAG,UAAU,CAElC,QAAS,CAAAC,kBAAkBA,CAAA,CAAG,CAC1B,GAAM,CAAAC,YAAY,CAAG,CAAC,CAAC,CACvB,MAAO,CACHC,EAAE,UAAAA,GAACC,MAAM,CAAEC,QAAQ,CAAC,CAChBH,YAAY,CAACE,MAAM,CAAC,CAAIF,YAAY,CAACE,MAAM,CAAC,IAAAE,MAAA,CAAAC,kBAAA,CAAOL,YAAY,CAACE,MAAM,CAAC,GAAEC,QAAQ,GAAI,CAACA,QAAQ,CAAC,CAC/F,MAAO,WAAI,CACPH,YAAY,CAACE,MAAM,CAAC,CAAGF,YAAY,CAACE,MAAM,CAAC,CAACI,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,GAAKJ,QAAQ,GAAC,CACjF,CAAC,CACL,CAAC,CACDK,IAAI,UAAAA,KAACN,MAAM,CAAEO,IAAI,CAAE,CACf,GAAI,CAACT,YAAY,CAACE,MAAM,CAAC,CAAE,OAC3BF,YAAY,CAACE,MAAM,CAAC,CAACQ,OAAO,CAAC,SAAAP,QAAQ,QAAI,CAAAA,QAAQ,CAACM,IAAI,CAAC,GAAC,CAC5D,CACJ,CAAC,CACL,CAEA,MAAO,IAAM,CAAAE,QAAQ,CAAGZ,kBAAkB,EAAE,CAE5C,MAAO,SAAS,CAAAa,WAAWA,CAACC,GAAG,CAAE,CAC7BF,QAAQ,CAACH,IAAI,CAACV,QAAQ,CAAEe,GAAG,CAAC,CAChC,CAEA,MAAO,SAAS,CAAAC,cAAcA,CAACC,GAAG,CAAE,CAChCH,WAAW,CAAC,CAACG,GAAG,CAAHA,GAAG,CAAEC,IAAI,CAAE,SAAS,CAAC,CAAC,CACvC,CACA,MAAO,SAAS,CAAAC,YAAYA,CAACF,GAAG,CAAE,CAC9BH,WAAW,CAAC,CAACG,GAAG,CAAHA,GAAG,CAAEC,IAAI,CAAE,OAAO,CAAC,CAAC,CACrC,CAEAE,MAAM,CAACN,WAAW,CAAGA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}