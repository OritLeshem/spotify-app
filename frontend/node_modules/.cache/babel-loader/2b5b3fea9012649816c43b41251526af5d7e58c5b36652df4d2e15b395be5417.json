{"ast":null,"code":"import _regeneratorRuntime from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import Axios from'axios';var BASE_URL=process.env.NODE_ENV==='production'?'/api/':'//localhost:3030/api/';var axios=Axios.create({withCredentials:true});export var httpService={get:function get(endpoint,data){console.log(data);return ajax(endpoint,'GET',data);},post:function post(endpoint,data){return ajax(endpoint,'POST',data);},put:function put(endpoint,data){return ajax(endpoint,'PUT',data);},delete:function _delete(endpoint,data){return ajax(endpoint,'DELETE',data);}};function ajax(_x){return _ajax.apply(this,arguments);}function _ajax(){_ajax=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(endpoint){var method,data,res,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:'GET';data=_args.length>2&&_args[2]!==undefined?_args[2]:null;_context.prev=2;_context.next=5;return axios({url:\"\".concat(BASE_URL).concat(endpoint),method:method,data:data,params:method==='GET'?data:null});case 5:res=_context.sent;return _context.abrupt(\"return\",res.data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(\"Had Issues \".concat(method,\"ing to the backend, endpoint: \").concat(endpoint,\", with data: \"),data);console.dir(_context.t0);if(_context.t0.response&&_context.t0.response.status===401){sessionStorage.clear();window.location.assign('/');}throw _context.t0;case 15:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return _ajax.apply(this,arguments);}","map":{"version":3,"names":["Axios","BASE_URL","process","env","NODE_ENV","axios","create","withCredentials","httpService","get","endpoint","data","console","log","ajax","post","put","delete","_delete","_x","_ajax","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","method","res","_args","wrap","_callee$","_context","prev","next","length","undefined","url","concat","params","sent","abrupt","t0","dir","response","status","sessionStorage","clear","window","location","assign","stop"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/services/http.service.js"],"sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        console.log(data)\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: `, data)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            sessionStorage.clear()\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}"],"mappings":"oSAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,GAAM,CAAAC,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAChD,OAAO,CACP,uBAAuB,CAE7B,GAAI,CAAAC,KAAK,CAAGL,KAAK,CAACM,MAAM,CAAC,CACrBC,eAAe,CAAE,IACrB,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,WAAW,CAAG,CACvBC,GAAG,UAAAA,IAACC,QAAQ,CAAEC,IAAI,CAAE,CAChBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,MAAO,CAAAG,IAAI,CAACJ,QAAQ,CAAE,KAAK,CAAEC,IAAI,CAAC,CACtC,CAAC,CACDI,IAAI,UAAAA,KAACL,QAAQ,CAAEC,IAAI,CAAE,CACjB,MAAO,CAAAG,IAAI,CAACJ,QAAQ,CAAE,MAAM,CAAEC,IAAI,CAAC,CACvC,CAAC,CACDK,GAAG,UAAAA,IAACN,QAAQ,CAAEC,IAAI,CAAE,CAChB,MAAO,CAAAG,IAAI,CAACJ,QAAQ,CAAE,KAAK,CAAEC,IAAI,CAAC,CACtC,CAAC,CACDM,MAAM,UAAAC,QAACR,QAAQ,CAAEC,IAAI,CAAE,CACnB,MAAO,CAAAG,IAAI,CAACJ,QAAQ,CAAE,QAAQ,CAAEC,IAAI,CAAC,CACzC,CACJ,CAAC,SAEc,CAAAG,IAAIA,CAAAK,EAAA,SAAAC,KAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,MAAA,EAAAA,KAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAnB,SAAAC,QAAoBhB,QAAQ,MAAAiB,MAAA,CAAAhB,IAAA,CAAAiB,GAAA,CAAAC,KAAA,CAAAP,SAAA,QAAAE,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAEP,MAAM,CAAAE,KAAA,CAAAM,MAAA,IAAAN,KAAA,MAAAO,SAAA,CAAAP,KAAA,IAAG,KAAK,CAAElB,IAAI,CAAAkB,KAAA,CAAAM,MAAA,IAAAN,KAAA,MAAAO,SAAA,CAAAP,KAAA,IAAG,IAAI,CAAAG,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE/B,CAAA7B,KAAK,CAAC,CACpBgC,GAAG,IAAAC,MAAA,CAAKrC,QAAQ,EAAAqC,MAAA,CAAG5B,QAAQ,CAAE,CAC7BiB,MAAM,CAANA,MAAM,CACNhB,IAAI,CAAJA,IAAI,CACJ4B,MAAM,CAAGZ,MAAM,GAAK,KAAK,CAAIhB,IAAI,CAAG,IACxC,CAAC,CAAC,QALIiB,GAAG,CAAAI,QAAA,CAAAQ,IAAA,QAAAR,QAAA,CAAAS,MAAA,UAMFb,GAAG,CAACjB,IAAI,SAAAqB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEfpB,OAAO,CAACC,GAAG,eAAAyB,MAAA,CAAeX,MAAM,mCAAAW,MAAA,CAAiC5B,QAAQ,kBAAiBC,IAAI,CAAC,CAC/FC,OAAO,CAAC+B,GAAG,CAAAX,QAAA,CAAAU,EAAA,CAAK,CAChB,GAAIV,QAAA,CAAAU,EAAA,CAAIE,QAAQ,EAAIZ,QAAA,CAAAU,EAAA,CAAIE,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC7CC,cAAc,CAACC,KAAK,EAAE,CACtBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,GAAG,CAAC,CAC/B,CAAC,MAAAlB,QAAA,CAAAU,EAAA,0BAAAV,QAAA,CAAAmB,IAAA,MAAAzB,OAAA,gBAGR,UAAAN,KAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}