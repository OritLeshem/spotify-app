{"ast":null,"code":"import{PlaylistList}from'../cmps/playlist-list';import{useDispatch,useSelector}from'react-redux';import{useEffect,useState}from'react';import{loadPlaylists}from'../store/playlist.actions';import{Link}from'react-router-dom';import{PlayBtn}from'../cmps/form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function PlaylistIndex(){var user=useSelector(function(storeState){return storeState.userModule.user;});var playlists=useSelector(function(storeState){return storeState.playlistModule.playlists;});useEffect(function(){loadPlaylists();console.log(playlists);},[]);if(!user)return/*#__PURE__*/_jsx(\"h2\",{className:\"main-page playlist-details\",children:\"Please signup / login to create a playlist\"});else return/*#__PURE__*/_jsxs(\"section\",{className:\"main-page home-page\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"home-page-title\",children:\"PLAYLISTS\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"playlist-index\",children:user&&playlists&&playlists&&playlists.filter(function(playlist){return playlist.createdBy._id===user._id;}).map(function(playlist){return/*#__PURE__*/ (// {user && playlists && playlists && playlists.map(playlist =>\n_jsx(\"li\",{className:\"playlist-preview\",children:/*#__PURE__*/_jsxs(Link,{to:\"/detail/\".concat(playlist._id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"img-container-preview \",children:[/*#__PURE__*/_jsx(\"img\",{src:playlist.imgUrl,alt:\"\"}),/*#__PURE__*/_jsx(PlayBtn,{})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[playlist.name.substring(0,playlist.name.indexOf(\"-\"||\":\"))||playlist.name.slice(0,20),playlist.name.length>20&&\"...\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[playlist.name.slice(playlist.name.indexOf('-'||':')+2,playlist.name.length+1).slice(0,15),playlist.name.length>15&&\"...\"]}),\"        \"]})]})},playlist.id));})})]});}","map":{"version":3,"names":["PlaylistList","useDispatch","useSelector","useEffect","useState","loadPlaylists","Link","PlayBtn","jsx","_jsx","jsxs","_jsxs","PlaylistIndex","user","storeState","userModule","playlists","playlistModule","console","log","className","children","filter","playlist","createdBy","_id","map","to","concat","src","imgUrl","alt","name","substring","indexOf","slice","length","id"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/pages/playlist-index.jsx"],"sourcesContent":["import { PlaylistList } from '../cmps/playlist-list'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react'\nimport { loadPlaylists } from '../store/playlist.actions';\nimport { Link } from 'react-router-dom'\nimport { PlayBtn } from '../cmps/form'\n\n\nexport function PlaylistIndex() {\n  const user = useSelector(storeState => storeState.userModule.user)\n\n  let playlists = useSelector(storeState => storeState.playlistModule.playlists)\n\n  useEffect(() => {\n    loadPlaylists()\n    console.log(playlists)\n  }, [])\n  if (!user) return <h2 className=\"main-page playlist-details\">Please signup / login to create a playlist</h2>\n  else return <section className=\"main-page home-page\">\n    {/* <Music /> */}\n    <h2 className='home-page-title'>PLAYLISTS</h2>\n    <ul className=\"playlist-index\">\n      {user && playlists && playlists && playlists.filter(playlist => playlist.createdBy._id === user._id).map(playlist =>\n        // {user && playlists && playlists && playlists.map(playlist =>\n\n        <li className=\"playlist-preview\" key={playlist.id}>\n          <Link to={`/detail/${playlist._id}`}>\n            <div className=\"img-container-preview \">\n              <img src={playlist.imgUrl} alt=\"\" />\n              <PlayBtn />\n            </div>\n            <div>\n              <span>{playlist.name.substring(0, playlist.name.indexOf(\"-\" || \":\")) || playlist.name.slice(0, 20)}{playlist.name.length > 20 && \"...\"}</span>\n\n              <h5 >{playlist.name.slice((playlist.name.indexOf('-' || ':') + 2), playlist.name.length + 1).slice(0, 15)}{playlist.name.length > 15 && \"...\"}</h5>        </div>\n          </Link>\n        </li>\n      )}\n    </ul>\n\n  </section >\n}"],"mappings":"AAAA,OAASA,YAAY,KAAQ,uBAAuB,CACpD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,aAAa,KAAQ,2BAA2B,CACzD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,cAAc,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGtC,MAAO,SAAS,CAAAC,aAAaA,CAAA,CAAG,CAC9B,GAAM,CAAAC,IAAI,CAAGX,WAAW,CAAC,SAAAY,UAAU,QAAI,CAAAA,UAAU,CAACC,UAAU,CAACF,IAAI,GAAC,CAElE,GAAI,CAAAG,SAAS,CAAGd,WAAW,CAAC,SAAAY,UAAU,QAAI,CAAAA,UAAU,CAACG,cAAc,CAACD,SAAS,GAAC,CAE9Eb,SAAS,CAAC,UAAM,CACdE,aAAa,EAAE,CACfa,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CACN,GAAI,CAACH,IAAI,CAAE,mBAAOJ,IAAA,OAAIW,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,4CAA0C,EAAK,KACvG,oBAAOV,KAAA,YAASS,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAElDZ,IAAA,OAAIW,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,WAAS,EAAK,cAC9CZ,IAAA,OAAIW,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC3BR,IAAI,EAAIG,SAAS,EAAIA,SAAS,EAAIA,SAAS,CAACM,MAAM,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,SAAS,CAACC,GAAG,GAAKZ,IAAI,CAACY,GAAG,GAAC,CAACC,GAAG,CAAC,SAAAH,QAAQ,sBAC/G;AAEAd,IAAA,OAAIW,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC9BV,KAAA,CAACL,IAAI,EAACqB,EAAE,YAAAC,MAAA,CAAaL,QAAQ,CAACE,GAAG,CAAG,CAAAJ,QAAA,eAClCV,KAAA,QAAKS,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCZ,IAAA,QAAKoB,GAAG,CAAEN,QAAQ,CAACO,MAAO,CAACC,GAAG,CAAC,EAAE,EAAG,cACpCtB,IAAA,CAACF,OAAO,IAAG,GACP,cACNI,KAAA,QAAAU,QAAA,eACEV,KAAA,SAAAU,QAAA,EAAOE,QAAQ,CAACS,IAAI,CAACC,SAAS,CAAC,CAAC,CAAEV,QAAQ,CAACS,IAAI,CAACE,OAAO,CAAC,GAAG,EAAI,GAAG,CAAC,CAAC,EAAIX,QAAQ,CAACS,IAAI,CAACG,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAEZ,QAAQ,CAACS,IAAI,CAACI,MAAM,CAAG,EAAE,EAAI,KAAK,GAAQ,cAE9IzB,KAAA,OAAAU,QAAA,EAAME,QAAQ,CAACS,IAAI,CAACG,KAAK,CAAEZ,QAAQ,CAACS,IAAI,CAACE,OAAO,CAAC,GAAG,EAAI,GAAG,CAAC,CAAG,CAAC,CAAGX,QAAQ,CAACS,IAAI,CAACI,MAAM,CAAG,CAAC,CAAC,CAACD,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAEZ,QAAQ,CAACS,IAAI,CAACI,MAAM,CAAG,EAAE,EAAI,KAAK,GAAM,WAAQ,GAAM,GAC9J,EAV6Bb,QAAQ,CAACc,EAAE,CAW5C,IACN,EACE,GAEI,CACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}