{"ast":null,"code":"import _slicedToArray from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import{eventBus,showSuccessMsg}from'../services/event-bus.service';import{changeUserMsg}from'../store/system/system.actions';import{jsx as _jsx}from\"react/jsx-runtime\";export function UserMsg(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var timeoutIdRef=useRef();useEffect(function(){var unsubscribe=eventBus.on('show-msg',function(msg){setMsg(msg);window.scrollTo({top:0,behavior:'smooth'});if(timeoutIdRef.current){timeoutIdRef.current=null;clearTimeout(timeoutIdRef.current);}timeoutIdRef.current=setTimeout(closeMsg,3000);});},[]);function closeMsg(){setMsg(null);}if(!msg)return/*#__PURE__*/_jsx(\"span\",{});return/*#__PURE__*/_jsx(\"section\",{className:\"user-msg \".concat(msg.type),children:msg.txt});}","map":{"version":3,"names":["useState","useEffect","useRef","eventBus","showSuccessMsg","changeUserMsg","jsx","_jsx","UserMsg","_useState","_useState2","_slicedToArray","msg","setMsg","timeoutIdRef","unsubscribe","on","window","scrollTo","top","behavior","current","clearTimeout","setTimeout","closeMsg","className","concat","type","children","txt"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/cmps/user-msg.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\n\nimport { eventBus, showSuccessMsg } from '../services/event-bus.service'\nimport { changeUserMsg } from '../store/system/system.actions'\n\nexport function UserMsg() {\n  const [msg, setMsg] = useState(null)\n  const timeoutIdRef = useRef()\n\n  useEffect(() => {\n    const unsubscribe = eventBus.on('show-msg', (msg) => {\n      setMsg(msg)\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n      if (timeoutIdRef.current) {\n        timeoutIdRef.current = null\n        clearTimeout(timeoutIdRef.current)\n      }\n      timeoutIdRef.current = setTimeout(closeMsg, 3000)\n    })\n\n  }, [])\n\n  function closeMsg() {\n    setMsg(null)\n  }\n\n  if (!msg) return <span></span>\n  return <section className={`user-msg ${msg.type}`}>\n    {msg.txt}\n  </section>\n}"],"mappings":"0IAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEnD,OAASC,QAAQ,CAAEC,cAAc,KAAQ,+BAA+B,CACxE,OAASC,aAAa,KAAQ,gCAAgC,QAAAC,GAAA,IAAAC,IAAA,yBAE9D,MAAO,SAAS,CAAAC,OAAOA,CAAA,CAAG,CACxB,IAAAC,SAAA,CAAsBT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,GAAG,CAAAF,UAAA,IAAEG,MAAM,CAAAH,UAAA,IAClB,GAAM,CAAAI,YAAY,CAAGZ,MAAM,EAAE,CAE7BD,SAAS,CAAC,UAAM,CACd,GAAM,CAAAc,WAAW,CAAGZ,QAAQ,CAACa,EAAE,CAAC,UAAU,CAAE,SAACJ,GAAG,CAAK,CACnDC,MAAM,CAACD,GAAG,CAAC,CACXK,MAAM,CAACC,QAAQ,CAAC,CAAEC,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC/C,GAAIN,YAAY,CAACO,OAAO,CAAE,CACxBP,YAAY,CAACO,OAAO,CAAG,IAAI,CAC3BC,YAAY,CAACR,YAAY,CAACO,OAAO,CAAC,CACpC,CACAP,YAAY,CAACO,OAAO,CAAGE,UAAU,CAACC,QAAQ,CAAE,IAAI,CAAC,CACnD,CAAC,CAAC,CAEJ,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAA,QAAQA,CAAA,CAAG,CAClBX,MAAM,CAAC,IAAI,CAAC,CACd,CAEA,GAAI,CAACD,GAAG,CAAE,mBAAOL,IAAA,WAAa,CAC9B,mBAAOA,IAAA,YAASkB,SAAS,aAAAC,MAAA,CAAcd,GAAG,CAACe,IAAI,CAAG,CAAAC,QAAA,CAC/ChB,GAAG,CAACiB,GAAG,EACA,CACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}