{"ast":null,"code":"import _toConsumableArray from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{playlistService}from\"../services/playlist.service\";export var SET_PLAYLISTS='SET_PLAYLISTS';export var REMOVE_PLAYLIST='REMOVE_PLAYLIST';export var ADD_PLAYLIST='ADD_PLAYLIST';export var UPDATE_PLAYLIST='UPDATE_PLAYLIST';export var UNDO_REMOVE_PLAYLIST='UNDO_REMOVE_PLAYLIST';//song\nexport var REMOVE_SONG_FROM_PLAYLIST='REMOVE_SONG_FROM_PLAYLIST';export var SET_PLAYLIST='SET_PLAYLIST';export var ADD_SONG_TO_PLAYLIST='ADD_SONG_TO_PLAYLIST';export var SET_SONGS_LIST='SET_SONGS_LIST';export var UPDATE_NAME_PLAYLIST='UPDATE_NAME_PLAYLIST';var initialState={playlists:[],playlist:null,lastRemovedPlaylist:null,playSongs:[{\"_id\":\"4m1EFMoRFvY\",\"title\":\"Beyoncé - Single Ladies\",\"description\":\"Beyoncé's official 'Single Ladies\",\"tags\":[\"Pop\",\"Happy\"],\"imgUrl\":\"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",currentTime:0}],currentSong:{\"_id\":\"4m1EFMoRFvY\",\"title\":\"Beyoncé - Single Ladies\",\"description\":\"Beyoncé's official 'Single Ladies\",\"tags\":[\"Pop\",\"Happy\"],\"imgUrl\":\"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",currentTime:0}};export function playlistReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var newState=state;var playlists;switch(action.type){case SET_PLAYLISTS:newState=_objectSpread(_objectSpread({},state),{},{playlists:action.playlists});break;case REMOVE_PLAYLIST:var lastRemovedPlaylist=state.playlists.find(function(playlist){return playlist._id===action.playlistId;});playlists=state.playlists.filter(function(playlist){return playlist._id!==action.playlistId;});newState=_objectSpread(_objectSpread({},state),{},{playlists:playlists,lastRemovedPlaylist:lastRemovedPlaylist});break;case ADD_PLAYLIST:newState=_objectSpread(_objectSpread({},state),{},{playlists:[].concat(_toConsumableArray(state.playlists),[action.playlist])});break;case UPDATE_PLAYLIST:playlists=state.playlists.map(function(playlist){return playlist._id===action.playlist._id?action.playlist:playlist;});newState=_objectSpread(_objectSpread({},state),{},{playlists:playlists});console.log(\"PLAYLISTS\",playlists);break;case UNDO_REMOVE_PLAYLIST:if(state.lastRemovedPlaylist){newState=_objectSpread(_objectSpread({},state),{},{playlists:[].concat(_toConsumableArray(state.playlists),[state.lastRemovedPlaylist]),lastRemovedPlaylist:null});}break;//song in playlist\ncase SET_PLAYLIST:newState=_objectSpread(_objectSpread({},state),{},{playlist:action.playlist});break;//song in playlist-search\ncase SET_SONGS_LIST:newState=_objectSpread(_objectSpread({},state),{},{playSongs:action.playSongs});break;case REMOVE_SONG_FROM_PLAYLIST:newState=_objectSpread(_objectSpread({},state),{},{playlist:action.playlist});break;case ADD_SONG_TO_PLAYLIST:newState=_objectSpread(_objectSpread({},state),{},{playlist:action.playlist});break;case UPDATE_NAME_PLAYLIST:newState=_objectSpread(_objectSpread({},state),{},{playlist:_objectSpread(_objectSpread({},state.playlist),{},{name:action.newName})});break;default:}return newState;}","map":{"version":3,"names":["playlistService","SET_PLAYLISTS","REMOVE_PLAYLIST","ADD_PLAYLIST","UPDATE_PLAYLIST","UNDO_REMOVE_PLAYLIST","REMOVE_SONG_FROM_PLAYLIST","SET_PLAYLIST","ADD_SONG_TO_PLAYLIST","SET_SONGS_LIST","UPDATE_NAME_PLAYLIST","initialState","playlists","playlist","lastRemovedPlaylist","playSongs","currentTime","currentSong","playlistReducer","state","arguments","length","undefined","action","newState","type","_objectSpread","find","_id","playlistId","filter","concat","_toConsumableArray","map","console","log","name","newName"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/store/playlist.reducer.js"],"sourcesContent":["import { playlistService } from \"../services/playlist.service\"\r\n\r\nexport const SET_PLAYLISTS = 'SET_PLAYLISTS'\r\nexport const REMOVE_PLAYLIST = 'REMOVE_PLAYLIST'\r\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST'\r\nexport const UPDATE_PLAYLIST = 'UPDATE_PLAYLIST'\r\nexport const UNDO_REMOVE_PLAYLIST = 'UNDO_REMOVE_PLAYLIST'\r\n//song\r\nexport const REMOVE_SONG_FROM_PLAYLIST = 'REMOVE_SONG_FROM_PLAYLIST'\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST'\r\nexport const ADD_SONG_TO_PLAYLIST = 'ADD_SONG_TO_PLAYLIST'\r\nexport const SET_SONGS_LIST = 'SET_SONGS_LIST'\r\nexport const UPDATE_NAME_PLAYLIST = 'UPDATE_NAME_PLAYLIST'\r\nconst initialState = {\r\n    playlists: [],\r\n    playlist: null,\r\n    lastRemovedPlaylist: null,\r\n    playSongs: [{\r\n        \"_id\": \"4m1EFMoRFvY\",\r\n        \"title\": \"Beyoncé - Single Ladies\",\r\n        \"description\": \"Beyoncé's official 'Single Ladies\",\r\n        \"tags\": [\r\n            \"Pop\",\r\n            \"Happy\"\r\n        ],\r\n        \"imgUrl\": \"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",\r\n        currentTime: 0\r\n    }],\r\n    currentSong: {\r\n        \"_id\": \"4m1EFMoRFvY\",\r\n        \"title\": \"Beyoncé - Single Ladies\",\r\n        \"description\": \"Beyoncé's official 'Single Ladies\",\r\n        \"tags\": [\r\n            \"Pop\",\r\n            \"Happy\"\r\n        ],\r\n        \"imgUrl\": \"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",\r\n        currentTime: 0\r\n    }\r\n}\r\nexport function playlistReducer(state = initialState, action) {\r\n    var newState = state\r\n    var playlists\r\n    switch (action.type) {\r\n        case SET_PLAYLISTS:\r\n            newState = { ...state, playlists: action.playlists }\r\n            break\r\n        case REMOVE_PLAYLIST:\r\n            const lastRemovedPlaylist = state.playlists.find(playlist => playlist._id === action.playlistId)\r\n            playlists = state.playlists.filter(playlist => playlist._id !== action.playlistId)\r\n            newState = { ...state, playlists, lastRemovedPlaylist }\r\n            break\r\n\r\n        case ADD_PLAYLIST:\r\n            newState = { ...state, playlists: [...state.playlists, action.playlist] }\r\n            break\r\n        case UPDATE_PLAYLIST:\r\n            playlists = state.playlists.map(playlist => (playlist._id === action.playlist._id) ? action.playlist : playlist)\r\n            newState = { ...state, playlists }\r\n            console.log(\"PLAYLISTS\", playlists)\r\n            break\r\n        case UNDO_REMOVE_PLAYLIST:\r\n            if (state.lastRemovedPlaylist) {\r\n                newState = { ...state, playlists: [...state.playlists, state.lastRemovedPlaylist], lastRemovedPlaylist: null }\r\n            }\r\n            break\r\n\r\n        //song in playlist\r\n        case SET_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        //song in playlist-search\r\n\r\n        case SET_SONGS_LIST:\r\n            newState = { ...state, playSongs: action.playSongs }\r\n            break\r\n        case REMOVE_SONG_FROM_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        case ADD_SONG_TO_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        case UPDATE_NAME_PLAYLIST:\r\n            newState = { ...state, playlist: { ...state.playlist, name: action.newName } }\r\n            break\r\n        default:\r\n    }\r\n    return newState\r\n}\r\n"],"mappings":"2RAAA,OAASA,eAAe,KAAQ,8BAA8B,CAE9D,MAAO,IAAM,CAAAC,aAAa,CAAG,eAAe,CAC5C,MAAO,IAAM,CAAAC,eAAe,CAAG,iBAAiB,CAChD,MAAO,IAAM,CAAAC,YAAY,CAAG,cAAc,CAC1C,MAAO,IAAM,CAAAC,eAAe,CAAG,iBAAiB,CAChD,MAAO,IAAM,CAAAC,oBAAoB,CAAG,sBAAsB,CAC1D;AACA,MAAO,IAAM,CAAAC,yBAAyB,CAAG,2BAA2B,CACpE,MAAO,IAAM,CAAAC,YAAY,CAAG,cAAc,CAC1C,MAAO,IAAM,CAAAC,oBAAoB,CAAG,sBAAsB,CAC1D,MAAO,IAAM,CAAAC,cAAc,CAAG,gBAAgB,CAC9C,MAAO,IAAM,CAAAC,oBAAoB,CAAG,sBAAsB,CAC1D,GAAM,CAAAC,YAAY,CAAG,CACjBC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,IAAI,CACdC,mBAAmB,CAAE,IAAI,CACzBC,SAAS,CAAE,CAAC,CACR,KAAK,CAAE,aAAa,CACpB,OAAO,CAAE,yBAAyB,CAClC,aAAa,CAAE,mCAAmC,CAClD,MAAM,CAAE,CACJ,KAAK,CACL,OAAO,CACV,CACD,QAAQ,CAAE,kDAAkD,CAC5DC,WAAW,CAAE,CACjB,CAAC,CAAC,CACFC,WAAW,CAAE,CACT,KAAK,CAAE,aAAa,CACpB,OAAO,CAAE,yBAAyB,CAClC,aAAa,CAAE,mCAAmC,CAClD,MAAM,CAAE,CACJ,KAAK,CACL,OAAO,CACV,CACD,QAAQ,CAAE,kDAAkD,CAC5DD,WAAW,CAAE,CACjB,CACJ,CAAC,CACD,MAAO,SAAS,CAAAE,eAAeA,CAAA,CAA+B,IAA9B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGT,YAAY,IAAE,CAAAY,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACxD,GAAI,CAAAE,QAAQ,CAAGL,KAAK,CACpB,GAAI,CAAAP,SAAS,CACb,OAAQW,MAAM,CAACE,IAAI,EACf,IAAK,CAAAxB,aAAa,CACduB,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEP,SAAS,CAAEW,MAAM,CAACX,SAAS,EAAE,CACpD,MACJ,IAAK,CAAAV,eAAe,CAChB,GAAM,CAAAY,mBAAmB,CAAGK,KAAK,CAACP,SAAS,CAACe,IAAI,CAAC,SAAAd,QAAQ,QAAI,CAAAA,QAAQ,CAACe,GAAG,GAAKL,MAAM,CAACM,UAAU,GAAC,CAChGjB,SAAS,CAAGO,KAAK,CAACP,SAAS,CAACkB,MAAM,CAAC,SAAAjB,QAAQ,QAAI,CAAAA,QAAQ,CAACe,GAAG,GAAKL,MAAM,CAACM,UAAU,GAAC,CAClFL,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEP,SAAS,CAATA,SAAS,CAAEE,mBAAmB,CAAnBA,mBAAmB,EAAE,CACvD,MAEJ,IAAK,CAAAX,YAAY,CACbqB,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEP,SAAS,IAAAmB,MAAA,CAAAC,kBAAA,CAAMb,KAAK,CAACP,SAAS,GAAEW,MAAM,CAACV,QAAQ,EAAC,EAAE,CACzE,MACJ,IAAK,CAAAT,eAAe,CAChBQ,SAAS,CAAGO,KAAK,CAACP,SAAS,CAACqB,GAAG,CAAC,SAAApB,QAAQ,QAAK,CAAAA,QAAQ,CAACe,GAAG,GAAKL,MAAM,CAACV,QAAQ,CAACe,GAAG,CAAIL,MAAM,CAACV,QAAQ,CAAGA,QAAQ,GAAC,CAChHW,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEP,SAAS,CAATA,SAAS,EAAE,CAClCsB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEvB,SAAS,CAAC,CACnC,MACJ,IAAK,CAAAP,oBAAoB,CACrB,GAAIc,KAAK,CAACL,mBAAmB,CAAE,CAC3BU,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEP,SAAS,IAAAmB,MAAA,CAAAC,kBAAA,CAAMb,KAAK,CAACP,SAAS,GAAEO,KAAK,CAACL,mBAAmB,EAAC,CAAEA,mBAAmB,CAAE,IAAI,EAAE,CAClH,CACA,MAEJ;AACA,IAAK,CAAAP,YAAY,CACbiB,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEN,QAAQ,CAAEU,MAAM,CAACV,QAAQ,EAAE,CAClD,MACJ;AAEA,IAAK,CAAAJ,cAAc,CACfe,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEJ,SAAS,CAAEQ,MAAM,CAACR,SAAS,EAAE,CACpD,MACJ,IAAK,CAAAT,yBAAyB,CAC1BkB,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEN,QAAQ,CAAEU,MAAM,CAACV,QAAQ,EAAE,CAClD,MACJ,IAAK,CAAAL,oBAAoB,CACrBgB,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEN,QAAQ,CAAEU,MAAM,CAACV,QAAQ,EAAE,CAClD,MACJ,IAAK,CAAAH,oBAAoB,CACrBc,QAAQ,CAAAE,aAAA,CAAAA,aAAA,IAAQP,KAAK,MAAEN,QAAQ,CAAAa,aAAA,CAAAA,aAAA,IAAOP,KAAK,CAACN,QAAQ,MAAEuB,IAAI,CAAEb,MAAM,CAACc,OAAO,EAAE,EAAE,CAC9E,MACJ,QAAQ,CAEZ,MAAO,CAAAb,QAAQ,CACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}