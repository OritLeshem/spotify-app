{"ast":null,"code":"import { playlistService } from \"../services/playlist.service\";\nexport const SET_PLAYLISTS = 'SET_PLAYLISTS';\nexport const REMOVE_PLAYLIST = 'REMOVE_PLAYLIST';\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST';\nexport const UPDATE_PLAYLIST = 'UPDATE_PLAYLIST';\nexport const UNDO_REMOVE_PLAYLIST = 'UNDO_REMOVE_PLAYLIST';\nexport const SET_FILTER = 'SET_FILTER';\n//song\nexport const REMOVE_SONG_FROM_PLAYLIST = 'REMOVE_SONG_FROM_PLAYLIST';\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\nexport const ADD_SONG_TO_PLAYLIST = 'ADD_SONG_TO_PLAYLIST';\nexport const SET_SONGS_LIST = 'SET_SONGS_LIST';\nexport const UPDATE_NAME_PLAYLIST = 'UPDATE_NAME_PLAYLIST';\nconst initialState = {\n  playlists: [],\n  playlist: null,\n  filterBy: playlistService.getDefaultFilter(),\n  lastRemovedPlaylist: null,\n  playSongs: [{\n    \"_id\": \"4m1EFMoRFvY\",\n    \"title\": \"Beyoncé - Single Ladies\",\n    \"description\": \"Beyoncé's official 'Single Ladies\",\n    \"tags\": [\"Pop\", \"Happy\"],\n    \"imgUrl\": \"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",\n    currentTime: 0\n  }],\n  currentSong: {\n    \"_id\": \"4m1EFMoRFvY\",\n    \"title\": \"Beyoncé - Single Ladies\",\n    \"description\": \"Beyoncé's official 'Single Ladies\",\n    \"tags\": [\"Pop\", \"Happy\"],\n    \"imgUrl\": \"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",\n    currentTime: 0\n  }\n};\nexport function playlistReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  var newState = state;\n  var playlists;\n  switch (action.type) {\n    case SET_PLAYLISTS:\n      newState = {\n        ...state,\n        playlists: action.playlists\n      };\n      break;\n    case REMOVE_PLAYLIST:\n      const lastRemovedPlaylist = state.playlists.find(playlist => playlist._id === action.playlistId);\n      playlists = state.playlists.filter(playlist => playlist._id !== action.playlistId);\n      newState = {\n        ...state,\n        playlists,\n        lastRemovedPlaylist\n      };\n      break;\n    case ADD_PLAYLIST:\n      newState = {\n        ...state,\n        playlists: [...state.playlists, action.playlist]\n      };\n      break;\n    case UPDATE_PLAYLIST:\n      playlists = state.playlists.map(playlist => playlist._id === action.playlist._id ? action.playlist : playlist);\n      newState = {\n        ...state,\n        playlists\n      };\n      console.log(\"PLAYLISTS\", playlists);\n      break;\n    case UNDO_REMOVE_PLAYLIST:\n      if (state.lastRemovedPlaylist) {\n        newState = {\n          ...state,\n          playlists: [...state.playlists, state.lastRemovedPlaylist],\n          lastRemovedPlaylist: null\n        };\n      }\n      break;\n    case SET_FILTER:\n      return {\n        ...state,\n        filterBy: action.filterBy\n      };\n    //song in playlist\n    case SET_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: action.playlist\n      };\n      break;\n    //song in playlist-search\n\n    case SET_SONGS_LIST:\n      newState = {\n        ...state,\n        playSongs: action.playSongs\n      };\n      break;\n    case REMOVE_SONG_FROM_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: action.playlist\n      };\n      break;\n    case ADD_SONG_TO_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: action.playlist\n      };\n      break;\n    case UPDATE_NAME_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: {\n          ...state.playlist,\n          name: action.newName\n        }\n      };\n      break;\n    default:\n  }\n  return newState;\n}","map":{"version":3,"names":["playlistService","SET_PLAYLISTS","REMOVE_PLAYLIST","ADD_PLAYLIST","UPDATE_PLAYLIST","UNDO_REMOVE_PLAYLIST","SET_FILTER","REMOVE_SONG_FROM_PLAYLIST","SET_PLAYLIST","ADD_SONG_TO_PLAYLIST","SET_SONGS_LIST","UPDATE_NAME_PLAYLIST","initialState","playlists","playlist","filterBy","getDefaultFilter","lastRemovedPlaylist","playSongs","currentTime","currentSong","playlistReducer","state","arguments","length","undefined","action","newState","type","find","_id","playlistId","filter","map","console","log","name","newName"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/store/playlist.reducer.js"],"sourcesContent":["import { playlistService } from \"../services/playlist.service\"\r\n\r\nexport const SET_PLAYLISTS = 'SET_PLAYLISTS'\r\nexport const REMOVE_PLAYLIST = 'REMOVE_PLAYLIST'\r\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST'\r\nexport const UPDATE_PLAYLIST = 'UPDATE_PLAYLIST'\r\nexport const UNDO_REMOVE_PLAYLIST = 'UNDO_REMOVE_PLAYLIST'\r\nexport const SET_FILTER = 'SET_FILTER'\r\n//song\r\nexport const REMOVE_SONG_FROM_PLAYLIST = 'REMOVE_SONG_FROM_PLAYLIST'\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST'\r\nexport const ADD_SONG_TO_PLAYLIST = 'ADD_SONG_TO_PLAYLIST'\r\nexport const SET_SONGS_LIST = 'SET_SONGS_LIST'\r\nexport const UPDATE_NAME_PLAYLIST = 'UPDATE_NAME_PLAYLIST'\r\nconst initialState = {\r\n    playlists: [],\r\n    playlist: null,\r\n    filterBy: playlistService.getDefaultFilter(),\r\n    lastRemovedPlaylist: null,\r\n    playSongs: [{\r\n        \"_id\": \"4m1EFMoRFvY\",\r\n        \"title\": \"Beyoncé - Single Ladies\",\r\n        \"description\": \"Beyoncé's official 'Single Ladies\",\r\n        \"tags\": [\r\n            \"Pop\",\r\n            \"Happy\"\r\n        ],\r\n        \"imgUrl\": \"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",\r\n        currentTime: 0\r\n    }],\r\n    currentSong: {\r\n        \"_id\": \"4m1EFMoRFvY\",\r\n        \"title\": \"Beyoncé - Single Ladies\",\r\n        \"description\": \"Beyoncé's official 'Single Ladies\",\r\n        \"tags\": [\r\n            \"Pop\",\r\n            \"Happy\"\r\n        ],\r\n        \"imgUrl\": \"https://i.ytimg.com/vi/4m1EFMoRFvY/hqdefault.jpg\",\r\n        currentTime: 0\r\n    }\r\n}\r\nexport function playlistReducer(state = initialState, action) {\r\n    var newState = state\r\n    var playlists\r\n    switch (action.type) {\r\n        case SET_PLAYLISTS:\r\n            newState = { ...state, playlists: action.playlists }\r\n            break\r\n        case REMOVE_PLAYLIST:\r\n            const lastRemovedPlaylist = state.playlists.find(playlist => playlist._id === action.playlistId)\r\n            playlists = state.playlists.filter(playlist => playlist._id !== action.playlistId)\r\n            newState = { ...state, playlists, lastRemovedPlaylist }\r\n            break\r\n\r\n        case ADD_PLAYLIST:\r\n            newState = { ...state, playlists: [...state.playlists, action.playlist] }\r\n            break\r\n        case UPDATE_PLAYLIST:\r\n            playlists = state.playlists.map(playlist => (playlist._id === action.playlist._id) ? action.playlist : playlist)\r\n            newState = { ...state, playlists }\r\n            console.log(\"PLAYLISTS\", playlists)\r\n            break\r\n        case UNDO_REMOVE_PLAYLIST:\r\n            if (state.lastRemovedPlaylist) {\r\n                newState = { ...state, playlists: [...state.playlists, state.lastRemovedPlaylist], lastRemovedPlaylist: null }\r\n            }\r\n            break\r\n        case SET_FILTER:\r\n            return { ...state, filterBy: action.filterBy }\r\n        //song in playlist\r\n        case SET_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        //song in playlist-search\r\n\r\n        case SET_SONGS_LIST:\r\n            newState = { ...state, playSongs: action.playSongs }\r\n            break\r\n        case REMOVE_SONG_FROM_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        case ADD_SONG_TO_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        case UPDATE_NAME_PLAYLIST:\r\n            newState = { ...state, playlist: { ...state.playlist, name: action.newName } }\r\n            break\r\n        default:\r\n    }\r\n    return newState\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}