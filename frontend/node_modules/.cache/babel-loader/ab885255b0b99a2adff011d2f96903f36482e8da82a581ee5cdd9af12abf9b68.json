{"ast":null,"code":"import{useSelector}from'react-redux';import{useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{loadPlaylists,removePlaylist}from'../store/playlist.actions';import{PlayBtn}from'../cmps/form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function PlaylistIndex(){var user=useSelector(function(storeState){return storeState.userModule.user;});var playlists=useSelector(function(storeState){return storeState.playlistModule.playlists;});var navigate=useNavigate();useEffect(function(){loadPlaylists();console.log(playlists);},[]);function onRemovePlaylist(ev,playlistId){ev.stopPropagation();console.log(\"removePlaylist\",playlistId);removePlaylist(playlistId);// navigate('/search')\n}if(!user)return/*#__PURE__*/_jsx(\"span\",{className:\"main-page playlist-details\",children:\"Please signup / login to create a playlist\"});else return/*#__PURE__*/_jsxs(\"section\",{className:\"main-page home-page\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"home-page-title\",children:\"PLAYLISTS\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"playlist-index\",children:user&&playlists&&playlists&&playlists.filter(function(playlist){return playlist.createdBy._id===user._id;}).map(function(playlist){return/*#__PURE__*/_jsxs(\"li\",{className:\"playlist-preview\",children:[/*#__PURE__*/_jsx(\"small\",{onClick:function onClick(ev){return onRemovePlaylist(ev,playlist._id);},className:\"trash\",children:\"X\"}),/*#__PURE__*/_jsxs(Link,{to:\"/detail/\".concat(playlist._id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"img-container-preview \",children:[/*#__PURE__*/_jsx(\"img\",{src:playlist.imgUrl,alt:\"\"}),/*#__PURE__*/_jsx(PlayBtn,{})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[playlist.name.substring(0,playlist.name.indexOf(\"-\"||\":\"))||playlist.name.slice(0,20),playlist.name.length>20&&\"...\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[playlist.name.slice(playlist.name.indexOf('-'||':')+1,playlist.name.length+1).slice(0,15),playlist.name.length>15&&\"...\"]}),\"        \"]})]})]},playlist.id);})})]});}","map":{"version":3,"names":["useSelector","useEffect","Link","useNavigate","loadPlaylists","removePlaylist","PlayBtn","jsx","_jsx","jsxs","_jsxs","PlaylistIndex","user","storeState","userModule","playlists","playlistModule","navigate","console","log","onRemovePlaylist","ev","playlistId","stopPropagation","className","children","filter","playlist","createdBy","_id","map","onClick","to","concat","src","imgUrl","alt","name","substring","indexOf","slice","length","id"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/pages/playlist-index.jsx"],"sourcesContent":["import { useSelector } from 'react-redux';\nimport { useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\n\nimport { loadPlaylists, removePlaylist } from '../store/playlist.actions';\n\nimport { PlayBtn } from '../cmps/form'\n\nexport function PlaylistIndex() {\n  const user = useSelector(storeState => storeState.userModule.user)\n  let playlists = useSelector(storeState => storeState.playlistModule.playlists)\n  const navigate = useNavigate()\n  useEffect(() => {\n    loadPlaylists()\n    console.log(playlists)\n  }, [])\n  function onRemovePlaylist(ev, playlistId) {\n    ev.stopPropagation();\n\n    console.log(\"removePlaylist\", playlistId)\n    removePlaylist(playlistId)\n    // navigate('/search')\n  }\n\n  if (!user) return <span className=\"main-page playlist-details\">Please signup / login to create a playlist</span>\n  else return <section className=\"main-page home-page\">\n    <h2 className='home-page-title'>PLAYLISTS</h2>\n    <ul className=\"playlist-index\">\n      {user && playlists && playlists && playlists.filter(playlist => playlist.createdBy._id === user._id).map(playlist =>\n        <li className=\"playlist-preview\" key={playlist.id}>\n          <small onClick={(ev) => onRemovePlaylist(ev, playlist._id)} className='trash'>X</small>\n\n          <Link to={`/detail/${playlist._id}`}>\n            <div className=\"img-container-preview \">\n              <img src={playlist.imgUrl} alt=\"\" />\n              <PlayBtn />\n            </div>\n            <div>\n              <span>{playlist.name.substring(0, playlist.name.indexOf(\"-\" || \":\")) || playlist.name.slice(0, 20)}{playlist.name.length > 20 && \"...\"}</span>\n              <h5 >{playlist.name.slice((playlist.name.indexOf('-' || ':') + 1), playlist.name.length + 1).slice(0, 15)}{playlist.name.length > 15 && \"...\"}</h5>        </div>\n          </Link>\n        </li>\n      )}\n    </ul>\n  </section >\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}