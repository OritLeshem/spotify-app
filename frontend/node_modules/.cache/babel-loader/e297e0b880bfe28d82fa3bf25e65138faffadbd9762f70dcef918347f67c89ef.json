{"ast":null,"code":"import { store } from './store';\nimport { SET_USER } from './user.reducer';\nimport { userService } from '../services/user.service';\nimport { showErrorMsg } from '../services/event-bus.service';\nexport async function login(credentials) {\n  try {\n    const user = await userService.login(credentials);\n    store.dispatch({\n      type: SET_USER,\n      user\n    });\n    return user;\n  } catch (err) {\n    console.log('Cannot login', err);\n    throw err;\n  }\n}\nexport async function signup(credentials) {\n  try {\n    const user = await userService.signup(credentials);\n    store.dispatch({\n      type: SET_USER,\n      user\n    });\n    return user;\n  } catch (err) {\n    console.log('Cannot signup', err);\n    throw err;\n  }\n}\nexport async function logout() {\n  try {\n    await userService.logout();\n    store.dispatch({\n      type: SET_USER,\n      user: null\n    });\n  } catch (err) {\n    console.log('Cannot logout', err);\n    throw err;\n  }\n}\nexport async function loadUser(userId) {\n  try {\n    const user = await userService.getById(userId);\n    store.dispatch({\n      type: SET_USER,\n      user\n    });\n    // store.dispatch({ type: SET_USER, user })\n  } catch (err) {\n    showErrorMsg('Cannot load user');\n    console.log('Cannot load user', err);\n  }\n}","map":{"version":3,"names":["store","SET_USER","userService","showErrorMsg","login","credentials","user","dispatch","type","err","console","log","signup","logout","loadUser","userId","getById"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/store/user.actions.js"],"sourcesContent":["import { store } from './store'\r\nimport { SET_USER } from './user.reducer'\r\n\r\nimport { userService } from '../services/user.service'\r\nimport { showErrorMsg } from '../services/event-bus.service'\r\n\r\nexport async function login(credentials) {\r\n    try {\r\n        const user = await userService.login(credentials)\r\n        store.dispatch({ type: SET_USER, user })\r\n        return user\r\n    } catch (err) {\r\n        console.log('Cannot login', err)\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function signup(credentials) {\r\n    try {\r\n        const user = await userService.signup(credentials)\r\n        store.dispatch({ type: SET_USER, user })\r\n        return user\r\n    } catch (err) {\r\n        console.log('Cannot signup', err)\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function logout() {\r\n    try {\r\n        await userService.logout()\r\n        store.dispatch({ type: SET_USER, user: null })\r\n    } catch (err) {\r\n        console.log('Cannot logout', err)\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function loadUser(userId) {\r\n    try {\r\n        const user = await userService.getById(userId)\r\n        store.dispatch({ type: SET_USER, user })\r\n        // store.dispatch({ type: SET_USER, user })\r\n    } catch (err) {\r\n        showErrorMsg('Cannot load user')\r\n        console.log('Cannot load user', err)\r\n    }\r\n}"],"mappings":"AAAA,SAASA,KAAK,QAAQ,SAAS;AAC/B,SAASC,QAAQ,QAAQ,gBAAgB;AAEzC,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,YAAY,QAAQ,+BAA+B;AAE5D,OAAO,eAAeC,KAAKA,CAACC,WAAW,EAAE;EACrC,IAAI;IACA,MAAMC,IAAI,GAAG,MAAMJ,WAAW,CAACE,KAAK,CAACC,WAAW,CAAC;IACjDL,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEP,QAAQ;MAAEK;IAAK,CAAC,CAAC;IACxC,OAAOA,IAAI;EACf,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAAC;IAChC,MAAMA,GAAG;EACb;AACJ;AAEA,OAAO,eAAeG,MAAMA,CAACP,WAAW,EAAE;EACtC,IAAI;IACA,MAAMC,IAAI,GAAG,MAAMJ,WAAW,CAACU,MAAM,CAACP,WAAW,CAAC;IAClDL,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEP,QAAQ;MAAEK;IAAK,CAAC,CAAC;IACxC,OAAOA,IAAI;EACf,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC;IACjC,MAAMA,GAAG;EACb;AACJ;AAEA,OAAO,eAAeI,MAAMA,CAAA,EAAG;EAC3B,IAAI;IACA,MAAMX,WAAW,CAACW,MAAM,EAAE;IAC1Bb,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEP,QAAQ;MAAEK,IAAI,EAAE;IAAK,CAAC,CAAC;EAClD,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC;IACjC,MAAMA,GAAG;EACb;AACJ;AAEA,OAAO,eAAeK,QAAQA,CAACC,MAAM,EAAE;EACnC,IAAI;IACA,MAAMT,IAAI,GAAG,MAAMJ,WAAW,CAACc,OAAO,CAACD,MAAM,CAAC;IAC9Cf,KAAK,CAACO,QAAQ,CAAC;MAAEC,IAAI,EAAEP,QAAQ;MAAEK;IAAK,CAAC,CAAC;IACxC;EACJ,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVN,YAAY,CAAC,kBAAkB,CAAC;IAChCO,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,GAAG,CAAC;EACxC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}