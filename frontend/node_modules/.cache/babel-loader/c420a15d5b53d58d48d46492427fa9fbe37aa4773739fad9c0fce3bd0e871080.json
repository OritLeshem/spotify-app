{"ast":null,"code":"import _slicedToArray from\"/Users/orit/Documents/CodingAcademy/spotify/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,NavLink,useNavigate}from'react-router-dom';import{loadPlaylists,removePlaylist}from'../store/playlist.actions';import{CreatePlaylist,HomePageSvg,LibrarySvg,LikedSongs,Logo,SearchSvg}from'./form';import{AiOutlinePlus}from'react-icons/ai';import{SET_PLAYLIST}from'../store/playlist.reducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Navbar(){var user=useSelector(function(storeState){return storeState.userModule.user;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMobile=_useState2[0],setIsMobile=_useState2[1];var _useState3=useState('#'),_useState4=_slicedToArray(_useState3,2),activeNav=_useState4[0],setActiveNav=_useState4[1];var navigate=useNavigate();var dispatch=useDispatch();function handleHome(){navigate('/');setActiveNav('#');}function handleSearch(){navigate('/search');setActiveNav('#search');}function handleLibrary(){navigate('/playlist');setActiveNav('#playlist');}function handleCreate(){var newPlaylist=null;dispatch({type:SET_PLAYLIST,playlist:newPlaylist});navigate('/create');setActiveNav('#create');}useEffect(function(){function handleResize(){// console.log(window.innerWidth < 960)\nif(window.innerWidth<960)setIsMobile(true);if(window.innerWidth>960)setIsMobile(false);}handleResize();window.addEventListener('resize',handleResize);return function(){window.removeEventListener('resize',handleResize);};},[]);var playlists=useSelector(function(storeState){return storeState.playlistModule.playlists;});useEffect(function(){loadPlaylists();// console.log(playlists)\n},[]);// const playlists = ['My First List', 'Pop Songs List']\nfunction onRemovePlaylist(ev,playlistId){console.log(\"removePlaylist\",playlistId);removePlaylist(playlistId);navigate('/search');}if(!isMobile)return/*#__PURE__*/_jsxs(\"section\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(NavLink,{to:\"/\",children:[/*#__PURE__*/_jsx(HomePageSvg,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Home\"})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"/search\",children:[/*#__PURE__*/_jsx(SearchSvg,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Search\"})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"/playlist\",children:[/*#__PURE__*/_jsx(LibrarySvg,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Your Library\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preferences\",children:[/*#__PURE__*/_jsxs(NavLink,{onClick:handleCreate,to:\"/create\",children:[/*#__PURE__*/_jsx(CreatePlaylist,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Create Playlist\"})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"/liked\",children:[/*#__PURE__*/_jsx(LikedSongs,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Liked Songs\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-playlists\",children:user&&playlists&&playlists.filter(function(playlist){return playlist.createdBy._id===user._id;}).map(function(playlist){return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-playlist\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/detail/\".concat(playlist._id),children:/*#__PURE__*/_jsx(\"h5\",{children:playlist.name})},playlist._id),/*#__PURE__*/_jsx(\"small\",{onClick:function onClick(ev){return onRemovePlaylist(ev,playlist._id);},className:\"fa-regular trash-can\"})]});})})]});if(isMobile)return/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-mobile\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleHome,className:activeNav==='#'?'active':'',children:/*#__PURE__*/_jsx(HomePageSvg,{})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:activeNav==='#search'?'active':'',children:/*#__PURE__*/_jsx(SearchSvg,{})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLibrary,className:activeNav==='#playlist'?'active':'',children:/*#__PURE__*/_jsx(LibrarySvg,{})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,className:activeNav==='create-btn #create'?'active':'create-btn',children:/*#__PURE__*/_jsx(AiOutlinePlus,{})})]});}","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Link","NavLink","useNavigate","loadPlaylists","removePlaylist","CreatePlaylist","HomePageSvg","LibrarySvg","LikedSongs","Logo","SearchSvg","AiOutlinePlus","SET_PLAYLIST","jsx","_jsx","jsxs","_jsxs","Navbar","user","storeState","userModule","_useState","_useState2","_slicedToArray","isMobile","setIsMobile","_useState3","_useState4","activeNav","setActiveNav","navigate","dispatch","handleHome","handleSearch","handleLibrary","handleCreate","newPlaylist","type","playlist","handleResize","window","innerWidth","addEventListener","removeEventListener","playlists","playlistModule","onRemovePlaylist","ev","playlistId","console","log","className","children","to","onClick","filter","createdBy","_id","map","concat","name"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/cmps/navbar.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, NavLink, useNavigate } from 'react-router-dom'\nimport { loadPlaylists, removePlaylist } from '../store/playlist.actions'\nimport { CreatePlaylist, HomePageSvg, LibrarySvg, LikedSongs, Logo, SearchSvg } from './form'\nimport { AiOutlinePlus } from 'react-icons/ai'\nimport { SET_PLAYLIST } from '../store/playlist.reducer'\nexport function Navbar() {\n  const user = useSelector(storeState => storeState.userModule.user)\n\n  const [isMobile, setIsMobile] = useState(false)\n  const [activeNav, setActiveNav] = useState('#')\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  function handleHome() {\n    navigate('/')\n    setActiveNav('#')\n  }\n  function handleSearch() {\n    navigate('/search')\n    setActiveNav('#search')\n  }\n  function handleLibrary() {\n    navigate('/playlist')\n    setActiveNav('#playlist')\n  }\n  function handleCreate() {\n    const newPlaylist = null\n    dispatch({ type: SET_PLAYLIST, playlist: newPlaylist })\n    navigate('/create')\n    setActiveNav('#create')\n  }\n  useEffect(() => {\n    function handleResize() {\n      // console.log(window.innerWidth < 960)\n      if (window.innerWidth < 960) setIsMobile(true)\n      if (window.innerWidth > 960) setIsMobile(false)\n    }\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [])\n  const playlists = useSelector(storeState => storeState.playlistModule.playlists)\n  useEffect(() => {\n    loadPlaylists()\n    // console.log(playlists)\n  }, [])\n\n  // const playlists = ['My First List', 'Pop Songs List']\n  function onRemovePlaylist(ev, playlistId) {\n    console.log(\"removePlaylist\", playlistId)\n    removePlaylist(playlistId)\n    navigate('/search')\n  }\n  if (!isMobile) return <section className=\"navbar\">\n\n    <Logo />\n\n    <nav>\n      <NavLink to=\"/\"><HomePageSvg /><h3>Home</h3>\n      </NavLink>\n      <NavLink to=\"/search\"><SearchSvg /><h3>Search</h3>\n      </NavLink>\n      <NavLink to=\"/playlist\"><LibrarySvg /><h3>Your Library</h3>\n      </NavLink>\n    </nav>\n    <div className=\"preferences\">\n      <NavLink onClick={handleCreate} to=\"/create\"><CreatePlaylist /><h3>Create Playlist</h3></NavLink>\n      <NavLink to=\"/liked\"><LikedSongs /><h3>Liked Songs</h3></NavLink>\n    </div>\n    <div className=\"divider\"></div>\n\n    <div className=\"navbar-playlists\">\n      {user && playlists && playlists.filter(playlist => playlist.createdBy._id === user._id).map(playlist => <div className='navbar-playlist'>\n        <NavLink to={`/detail/${playlist._id}`} key={playlist._id}>\n          <h5>{playlist.name}</h5></NavLink>\n        <small onClick={(ev) => onRemovePlaylist(ev, playlist._id)} className='fa-regular trash-can'></small>\n      </div>\n      )}\n    </div>\n\n  </section>\n  if (isMobile) return <nav className='nav-mobile'>\n    <button onClick={handleHome} className={activeNav === '#' ? 'active' : ''}><HomePageSvg /></button>\n    <button onClick={handleSearch} className={activeNav === '#search' ? 'active' : ''}><SearchSvg /></button>\n\n    <button onClick={handleLibrary} className={activeNav === '#playlist' ? 'active' : ''}><LibrarySvg /></button>\n    <button onClick={handleCreate} className={activeNav === 'create-btn #create' ? 'active' : 'create-btn'}><AiOutlinePlus /></button>\n  </nav>\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}