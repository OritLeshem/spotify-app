{"ast":null,"code":"import { playlistService } from \"../services/playlist.service.local\";\nexport const SET_PLAYLISTS = 'SET_PLAYLISTS';\nexport const REMOVE_PLAYLIST = 'REMOVE_PLAYLIST';\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST';\nexport const UPDATE_PLAYLIST = 'UPDATE_PLAYLIST';\nexport const UNDO_REMOVE_PLAYLIST = 'UNDO_REMOVE_PLAYLIST';\nexport const SET_FILTER = 'SET_FILTER';\n//song\nexport const REMOVE_SONG_FROM_PLAYLIST = 'REMOVE_SONG_FROM_PLAYLIST';\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\nexport const ADD_SONG_TO_PLAYLIST = 'ADD_SONG_TO_PLAYLIST';\nexport const SET_SONGS_LIST = 'SET_SONGS_LIST';\nconst initialState = {\n  playlists: [],\n  playlist: null,\n  filterBy: playlistService.getDefaultFilter(),\n  lastRemovedPlaylist: null,\n  playSongs: []\n};\nexport function playlistReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  var newState = state;\n  var playlists;\n  switch (action.type) {\n    case SET_PLAYLISTS:\n      newState = {\n        ...state,\n        playlists: action.playlists\n      };\n      break;\n    case REMOVE_PLAYLIST:\n      const lastRemovedPlaylist = state.playlists.find(playlist => playlist._id === action.playlistId);\n      playlists = state.playlists.filter(playlist => playlist._id !== action.playlistId);\n      newState = {\n        ...state,\n        playlists,\n        lastRemovedPlaylist\n      };\n      break;\n    case ADD_PLAYLIST:\n      newState = {\n        ...state,\n        playlists: [...state.playlists, action.playlist]\n      };\n      break;\n    case UPDATE_PLAYLIST:\n      playlists = state.playlists.map(playlist => playlist._id === action.playlist._id ? action.playlist : playlist);\n      newState = {\n        ...state,\n        playlists\n      };\n      break;\n    case UNDO_REMOVE_PLAYLIST:\n      if (state.lastRemovedPlaylist) {\n        newState = {\n          ...state,\n          playlists: [...state.playlists, state.lastRemovedPlaylist],\n          lastRemovedPlaylist: null\n        };\n      }\n      break;\n    case SET_FILTER:\n      return {\n        ...state,\n        filterBy: action.filterBy\n      };\n    //song in playlist\n    case SET_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: action.playlist\n      };\n      break;\n    //song in playlist-search\n\n    case SET_SONGS_LIST:\n      newState = {\n        ...state,\n        playSongs: action.playSongs\n      };\n      break;\n    case REMOVE_SONG_FROM_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: action.playlist\n      };\n      break;\n    case ADD_SONG_TO_PLAYLIST:\n      newState = {\n        ...state,\n        playlist: action.playlist\n      };\n      break;\n    default:\n  }\n  return newState;\n}","map":{"version":3,"names":["playlistService","SET_PLAYLISTS","REMOVE_PLAYLIST","ADD_PLAYLIST","UPDATE_PLAYLIST","UNDO_REMOVE_PLAYLIST","SET_FILTER","REMOVE_SONG_FROM_PLAYLIST","SET_PLAYLIST","ADD_SONG_TO_PLAYLIST","SET_SONGS_LIST","initialState","playlists","playlist","filterBy","getDefaultFilter","lastRemovedPlaylist","playSongs","playlistReducer","state","arguments","length","undefined","action","newState","type","find","_id","playlistId","filter","map"],"sources":["/Users/orit/Documents/CodingAcademy/spotify/frontend/src/store/playlist.reducer.js"],"sourcesContent":["import { playlistService } from \"../services/playlist.service.local\"\r\n\r\nexport const SET_PLAYLISTS = 'SET_PLAYLISTS'\r\nexport const REMOVE_PLAYLIST = 'REMOVE_PLAYLIST'\r\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST'\r\nexport const UPDATE_PLAYLIST = 'UPDATE_PLAYLIST'\r\nexport const UNDO_REMOVE_PLAYLIST = 'UNDO_REMOVE_PLAYLIST'\r\nexport const SET_FILTER = 'SET_FILTER'\r\n//song\r\nexport const REMOVE_SONG_FROM_PLAYLIST = 'REMOVE_SONG_FROM_PLAYLIST'\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST'\r\nexport const ADD_SONG_TO_PLAYLIST = 'ADD_SONG_TO_PLAYLIST'\r\nexport const SET_SONGS_LIST = 'SET_SONGS_LIST'\r\nconst initialState = {\r\n    playlists: [],\r\n    playlist: null,\r\n    filterBy: playlistService.getDefaultFilter(),\r\n    lastRemovedPlaylist: null,\r\n    playSongs: []\r\n}\r\n\r\nexport function playlistReducer(state = initialState, action) {\r\n    var newState = state\r\n    var playlists\r\n    switch (action.type) {\r\n        case SET_PLAYLISTS:\r\n            newState = { ...state, playlists: action.playlists }\r\n            break\r\n        case REMOVE_PLAYLIST:\r\n            const lastRemovedPlaylist = state.playlists.find(playlist => playlist._id === action.playlistId)\r\n            playlists = state.playlists.filter(playlist => playlist._id !== action.playlistId)\r\n            newState = { ...state, playlists, lastRemovedPlaylist }\r\n            break\r\n\r\n        case ADD_PLAYLIST:\r\n            newState = { ...state, playlists: [...state.playlists, action.playlist] }\r\n            break\r\n        case UPDATE_PLAYLIST:\r\n            playlists = state.playlists.map(playlist => (playlist._id === action.playlist._id) ? action.playlist : playlist)\r\n            newState = { ...state, playlists }\r\n            break\r\n        case UNDO_REMOVE_PLAYLIST:\r\n            if (state.lastRemovedPlaylist) {\r\n                newState = { ...state, playlists: [...state.playlists, state.lastRemovedPlaylist], lastRemovedPlaylist: null }\r\n            }\r\n            break\r\n        case SET_FILTER:\r\n            return { ...state, filterBy: action.filterBy }\r\n        //song in playlist\r\n        case SET_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        //song in playlist-search\r\n\r\n        case SET_SONGS_LIST:\r\n            newState = { ...state, playSongs: action.playSongs }\r\n            break\r\n        case REMOVE_SONG_FROM_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        case ADD_SONG_TO_PLAYLIST:\r\n            newState = { ...state, playlist: action.playlist }\r\n            break\r\n        default:\r\n    }\r\n    return newState\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}